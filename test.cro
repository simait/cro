module test {
	class test(x) {
		var blaergh := 2;
		method snarf(v) {
			v();
			if (blaergh > 2) {
				blaergh := 53;
			}
			blaergh := 42;
		}
	}
	class root() {
		t = new test(4);

		method done() {
		}

		method init() {
			send t.snarf(done);
		}
	}
}
